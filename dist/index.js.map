{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@fiddle-digital/string-scroll/webpack/universalModuleDefinition","webpack://@fiddle-digital/string-scroll/./src/Utils/gbcl.ts","webpack://@fiddle-digital/string-scroll/./src/StringParse.ts","webpack://@fiddle-digital/string-scroll/./src/Objects/StringScrollObject.ts","webpack://@fiddle-digital/string-scroll/./src/Animations/StringAnimation.ts","webpack://@fiddle-digital/string-scroll/./src/Animations/StringAnimationData.ts","webpack://@fiddle-digital/string-scroll/./src/Animations/StringLerpAnimation.ts","webpack://@fiddle-digital/string-scroll/./src/Animations/StringParallaxAnimation.ts","webpack://@fiddle-digital/string-scroll/./src/Animations/StringProgressAnimation.ts","webpack://@fiddle-digital/string-scroll/./src/Animations/StringShowAnimation.ts","webpack://@fiddle-digital/string-scroll/./src/EventManager.ts","webpack://@fiddle-digital/string-scroll/./src/Scrollbar/StringScrollbar.ts","webpack://@fiddle-digital/string-scroll/./src/StringScrollData.ts","webpack://@fiddle-digital/string-scroll/./src/Tracker/StringTracker.ts","webpack://@fiddle-digital/string-scroll/./src/Utils/attr.ts","webpack://@fiddle-digital/string-scroll/webpack/bootstrap","webpack://@fiddle-digital/string-scroll/webpack/runtime/define property getters","webpack://@fiddle-digital/string-scroll/webpack/runtime/hasOwnProperty shorthand","webpack://@fiddle-digital/string-scroll/webpack/runtime/make namespace object","webpack://@fiddle-digital/string-scroll/./src/ScrollTypes/StringScrollDefault.ts","webpack://@fiddle-digital/string-scroll/./src/ScrollTypes/StringScrollDisable.ts","webpack://@fiddle-digital/string-scroll/./src/ScrollTypes/StringScrollSmooth.ts","webpack://@fiddle-digital/string-scroll/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, () => {\nreturn ","export function gbcl(e: any) {\r\n  return e.getBoundingClientRect()\r\n}","import { gbcl } from \"./Utils/gbcl\";\r\n\r\n\r\nexport class StringParse {\r\n  private static i: StringParse;\r\n  public static getInstance(): StringParse {\r\n    if (!StringParse.i) {\r\n      StringParse.i = new StringParse();\r\n    }\r\n    return StringParse.i;\r\n  }\r\n\r\n  public parseOffset(e: any, o: any = \"0,0\", wH: any, baseRem: number = 16) {\r\n    let ofs = o.split(',');\r\n    if (ofs.length === 1) {\r\n      ofs = [ofs[0], ofs[0]];\r\n    }\r\n    let oV = ofs.map((os: any) => {\r\n      os = os.trim();\r\n      if (os.startsWith('calc')) {\r\n        return this.parseCalc(os, e, wH, baseRem);\r\n      } else {\r\n        return this.parseSingle(os, e, wH, baseRem);\r\n      }\r\n    });\r\n    return oV;\r\n  }\r\n  public parseSingle(v: string, element: any, wH: any, baseRem: number): number {\r\n    let isNegative = v.startsWith('-');\r\n    if (isNegative) {\r\n      v = v.slice(1);\r\n    }\r\n    let pV;\r\n    if (v === 'selfHeight') {\r\n      pV = element.offsetHeight;\r\n    } else if (v.endsWith('px')) {\r\n      pV = parseFloat(v);\r\n    } else if (v.endsWith('%')) {\r\n      pV = parseFloat(v) * wH / 100;\r\n    } else if (v.endsWith('rem')) {\r\n      pV = parseFloat(v) * baseRem;\r\n    }\r\n    return isNegative ? -pV : pV;\r\n  }\r\n  public parseCalc(c: string, element: any, wH: any, baseRem: number): number {\r\n    c = c.slice(5, -1);\r\n    let ps = c.split(/([-+])/).filter(Boolean);\r\n    return ps.reduce((t, p, i) => {\r\n      if (p === '-' || p === '+') {\r\n        return t;\r\n      } else {\r\n        let value = this.parseSingle(p.trim(), element, wH, baseRem);\r\n        if (ps[i - 1] === '-') {\r\n          return t - value;\r\n        } else {\r\n          return t + value;\r\n        }\r\n      }\r\n    }, 0);\r\n  }\r\n  public parseOrigin(o: string) {\r\n    if (o == null || o == \"\") {\r\n      o = \"center center\"\r\n    }\r\n    const p = o.split(' ');\r\n    const x = this.parseOrig(p[0]);\r\n    const y = this.parseOrig(p[1] || p[0]);\r\n    return `${x} ${y}`;\r\n  }\r\n  public parseOrig(part: string) {\r\n    part = part.trim();\r\n    if (part.startsWith('random')) {\r\n      const o = part.slice(7, -1).split(',').map(s => s.trim());\r\n      const c = Math.floor(Math.random() * o.length);\r\n      return o[c];\r\n    } else {\r\n      return part;\r\n    }\r\n  }\r\n  public parseCoords(e: any){\r\n    let br = gbcl(document.body),\r\n      er = gbcl(e),\r\n      o = er.top - br.top;\r\n    return { top: o };\r\n  }\r\n}","import { StringParse } from \"../StringParse\"\r\nimport { attr } from \"../Utils/attr\"\r\nimport { gbcl } from \"../Utils/gbcl\"\r\nconst tS = \"top\"\r\nconst bS = \"bottom\"\r\nexport class StringScrollObject{\r\n  public el: HTMLElement\r\n  public top: number\r\n  public bottom: number\r\n  public height: number\r\n  public oTop: number\r\n  public oBottom: number\r\n  public key: string\r\n  public start: number\r\n  public end: number\r\n  public factor: number\r\n  public id: string\r\n  public enabled: boolean\r\n  public startPos: number\r\n  public endPos: number\r\n  public differencePos: number\r\n  public offsetTop: number\r\n  public progress: number = 0\r\n  public connects: Array<StringScrollObject> = new Array<StringScrollObject>()\r\n  public showObserver: IntersectionObserver | null = null\r\n  public progressObserver: IntersectionObserver | null = null\r\n\r\n  public sElPos: string\r\n  public sScrPos: string\r\n  public eElPos: string\r\n  public eScrPos: string\r\n\r\n  constructor(element: HTMLElement, key: string, factor: string, bufferProgressKey: string){\r\n    let r = gbcl(element)\r\n    let wH = window.innerHeight\r\n    let oA = attr(element, `data-string-offset`)\r\n\r\n    let o = oA == null ? [0, 0] : StringParse.getInstance().parseOffset(element, oA, wH)\r\n    let rH = r.height\r\n    this.el= element\r\n    this.key= attr(element, `data-string-key`, key)\r\n    this.factor= attr(element, factor, 1)\r\n    this.progress = Number.parseFloat(attr(this.el, bufferProgressKey, 0)),\r\n    this.top= StringParse.getInstance().parseCoords(element).top\r\n    this.bottom= StringParse.getInstance().parseCoords(element).top + rH\r\n    this.height= rH\r\n    this.oTop= o[0]\r\n    this.oBottom= o[1]\r\n    this.start= attr(element, `data-string-start`, 1)\r\n    this.end= attr(element, `data-string-end`, 1)\r\n    this.id = attr(element, `data-string-id`)\r\n    \r\n    this.enabled= attr(element, `data-string-enabled`) == null ? true : false\r\n    this.startPos= 1\r\n    this.endPos= 1\r\n    this.differencePos= 1\r\n    let startPosition = attr(element, `data-string-start`) || \"top bottom\";\r\n    let endPosition = attr(element, `data-string-end`) || \"bottom top\";\r\n    let [sElPos, sScrPos] = startPosition.split(\" \");\r\n    let [eElPos, eScrPos] = endPosition.split(\" \");\r\n    this.sElPos = sElPos\r\n    this.sScrPos = sScrPos\r\n    this.eElPos = eElPos\r\n    this.eScrPos = eScrPos\r\n    if (sElPos == tS && sScrPos == tS) {\r\n      this.startPos = this.top - this.oTop\r\n    } else if (sElPos == tS && sScrPos == bS) {\r\n      this.startPos = this.top - wH - this.oTop\r\n    } else if (sElPos == bS && sScrPos == tS) {\r\n      this.startPos = this.top + this.height - this.oTop\r\n    } else if (sElPos == bS && sScrPos == bS) {\r\n      this.startPos = this.top - wH - this.oTop\r\n    }\r\n    if (eElPos == tS && eScrPos == tS) {\r\n      this.endPos = this.top + this.oBottom\r\n    } else if (eElPos == tS && eScrPos == bS) {\r\n      this.endPos = this.top - wH + this.oBottom\r\n    } else if (eElPos == bS && eScrPos == tS) {\r\n      this.endPos = this.top + this.height + this.oBottom\r\n    } else if (eElPos == bS && eScrPos == bS) {\r\n      this.endPos = this.top - wH + this.height + this.oBottom\r\n    }\r\n    this.differencePos = this.endPos - this.startPos\r\n    this.offsetTop = this.top - this.progress\r\n    let org = attr(this.el, `data-string-origin`)\r\n    if (org != null) {\r\n      this.el.style.transformOrigin = StringParse.getInstance().parseOrigin(org)\r\n    }\r\n\r\n    \r\n    \r\n  }\r\n  resize(windowHeight: number) {\r\n    let element = this.el\r\n    let r = gbcl(element)\r\n    let rH = r.height\r\n    this.el= element\r\n    this.top= StringParse.getInstance().parseCoords(element).top\r\n    this.bottom= StringParse.getInstance().parseCoords(element).top + rH\r\n    this.height= rH\r\n    this.start= attr(element, `data-string-start`, 1)\r\n    this.end= attr(element, `data-string-end`, 1)\r\n    if (this.sElPos == tS && this.sScrPos == tS) {\r\n      this.startPos = this.top - this.oTop\r\n    } else if (this.sElPos == tS && this.sScrPos == bS) {\r\n      this.startPos = this.top - windowHeight - this.oTop\r\n    } else if (this.sElPos == bS && this.sScrPos == tS) {\r\n      this.startPos = this.top + this.height - this.oTop\r\n    } else if (this.sElPos == bS && this.sScrPos == bS) {\r\n      this.startPos = this.top - windowHeight - this.oTop\r\n    }\r\n    if (this.eElPos == tS && this.eScrPos == tS) {\r\n      this.endPos = this.top + this.oBottom\r\n    } else if (this.eElPos == tS && this.eScrPos == bS) {\r\n      this.endPos = this.top - windowHeight + this.oBottom\r\n    } else if (this.eElPos == bS && this.eScrPos == tS) {\r\n      this.endPos = this.top + this.height + this.oBottom\r\n    } else if (this.eElPos == bS && this.eScrPos == bS) {\r\n      this.endPos = this.top - windowHeight + this.height + this.oBottom\r\n    }\r\n    this.differencePos = this.endPos - this.startPos\r\n    this.offsetTop = this.top - this.progress\r\n    \r\n  }\r\n}","import { EventManager } from \"../EventManager\";\r\nimport { StringScrollObject } from \"../Objects/StringScrollObject\";\r\nimport { attr } from \"../Utils/attr\";\r\nimport { StringAnimationData } from \"./StringAnimationData\";\r\n\r\nexport class StringAnimation{\r\n  protected _key: string\r\n  get key(){\r\n    return this._key\r\n  }\r\n  \r\n  protected _status: boolean = true\r\n  get status(){\r\n    return this._status\r\n  }\r\n  set status(value: boolean){\r\n    this._status = value\r\n    if(this._status){\r\n      this.onScrollEvent = (data: any)=>{\r\n        this.objectsArray.forEach((object: StringScrollObject) => {\r\n          if(this.onScroll != null){\r\n            if (object.enabled ) {\r\n            let progress = this.onScroll(object, data)\r\n            object.progress = progress\r\n            this.eventManager.emit(`progress_${object.key}_${object.id}`, object.progress)\r\n            object.el.style.setProperty(object.key, progress.toString())\r\n            object.connects.forEach(connect => {\r\n              connect.progress = progress\r\n              connect.el.style.setProperty(object.key, progress.toString())\r\n              this.eventManager.emit(`progress_${object.key}_${object.id}`, object.progress)\r\n            });\r\n          }\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      this.onScrollEvent = (data: any)=>{ }\r\n    }\r\n  }\r\n\r\n  private onScrollEvent = (data: any)=>{}\r\n  protected progressKey: string\r\n  protected progressFactorKey: string\r\n  protected bufferProgressKey: string\r\n  private id: number = 1\r\n  protected objectsMap: Map<string, StringScrollObject> = new Map<string, StringScrollObject>()\r\n  protected objectsArray: Array<StringScrollObject> = new Array<StringScrollObject>()\r\n  public allObjects: Map<string, StringScrollObject> = new Map<string, StringScrollObject>()\r\n  protected onUpdate: ((element: StringScrollObject, data: StringAnimationData) => number) | null = null\r\n  protected onScroll: ((element: StringScrollObject, data: StringAnimationData) => number) | null = null\r\n  protected onEnter: (element: StringScrollObject, data: StringAnimationData | null) => void = (element: StringScrollObject, data: StringAnimationData | null)=>{}\r\n  protected onLeave: (element: StringScrollObject, data: StringAnimationData | null) => void = (element: StringScrollObject, data: StringAnimationData | null)=>{}\r\n  public eventManager: EventManager = new EventManager()\r\n\r\n  constructor(key: string = \"\", progressKey: string = \"\", progressFactorKey: string = \"\", bufferProgressKey: string = \"data-string-progress-value\"){\r\n    this._key = key\r\n    this.progressKey = progressKey\r\n    this.progressFactorKey = progressFactorKey\r\n    this.bufferProgressKey = bufferProgressKey\r\n    this.status = true\r\n  }\r\n  get(id: string): StringScrollObject | undefined{\r\n    // return this.objectsMap.has(id) ? this.objectsMap.get(id) : undefined\r\n    return this.allObjects.has(id) ? this.allObjects.get(id) : undefined\r\n  }\r\n  init(){\r\n    let progE = document.querySelectorAll(`[${this._key}]:not([data-string-connect]):not([${this._key}-inited])`)\r\n    Array.from(progE)\r\n      .forEach((el: any) => {\r\n      this.addObject(el)\r\n    });\r\n    let connectE = document.querySelectorAll(`[data-string-connect]`)\r\n    Array.from(connectE).forEach((el: any) => {\r\n      let connectId = attr(el, `data-string-connect`)\r\n      if(this.objectsMap.has(connectId)){\r\n        el.setAttribute(`data-string-id`, attr(el, `data-string-id`, `${this._key}-${this.id}`))\r\n        let stringConnectObject = new StringScrollObject(el, this.progressKey, this.progressFactorKey, this.bufferProgressKey)\r\n        this.objectsMap.get(connectId)?.connects.push(stringConnectObject)\r\n      }\r\n    })\r\n  }\r\n  resize(){\r\n    let windowHeight = window.innerHeight\r\n    Array.from(this.allObjects).map(([name, value]) => {\r\n      value.resize(windowHeight)\r\n    });\r\n  }\r\n  public removeObject(id: string){\r\n    let removedObject = this.objectsMap.get(id)\r\n    if(removedObject?.showObserver != null){\r\n      removedObject?.showObserver.disconnect()\r\n    }\r\n    if(removedObject?.progressObserver != null){\r\n      removedObject?.progressObserver.disconnect()\r\n    }\r\n    this.objectsMap.delete(id)\r\n    this.allObjects.delete(id)\r\n    removedObject = undefined\r\n  }\r\n  public addObject(el: any) {\r\n    \r\n    let wH = window.innerHeight\r\n    el.setAttribute(`data-string-id`, attr(el, `data-string-id`, `${this._key}-${this.id}`))\r\n    el.classList.add(attr(el, `data-string-id`, `${this._key}-${this.id}`))\r\n    el.setAttribute(`${this._key}-inited`, true)\r\n    let stringObject = new StringScrollObject(el, this.progressKey, this.progressFactorKey, this.bufferProgressKey)\r\n    this.allObjects.set(attr(el, `data-string-id`), stringObject)\r\n    this.objectsMap.set(attr(el, `data-string-id`), stringObject)\r\n    let callbackShow = (es: any) => {\r\n      es.forEach((e: any) => {\r\n        if (e.isIntersecting) {\r\n          this.eventManager.emit(`intersection_${stringObject.key}_${stringObject.id}`, true)\r\n          this.onEnter(stringObject, null)\r\n        } else {\r\n          this.eventManager.emit(`intersection_${stringObject.key}_${stringObject.id}`, false)\r\n          this.onLeave(stringObject, null)\r\n        }\r\n        this.objectsArray = Array.from(this.objectsMap).map(([name, value]) => (value))\r\n      })\r\n    }\r\n    let callbackGl = (es: any) => {\r\n      es.forEach((e: any) => {\r\n        if (e.isIntersecting) {\r\n          let id = attr(e.target, `data-string-id`, `${this._key}-${this.id}`)\r\n          this.objectsMap.set(id, stringObject)\r\n        } else {\r\n          let id = attr(e.target, `data-string-id`, `${this._key}-${this.id}`)\r\n          this.objectsMap.delete(id)\r\n        }\r\n        this.objectsArray = Array.from(this.objectsMap).map(([name, value]) => (value))\r\n      })\r\n    }\r\n    let optionsProgress = {\r\n      root: null,\r\n      rootMargin: `${stringObject.oBottom * 1 + 10  }px 0px ${stringObject.oTop  * 1 + 10}px 0px`,\r\n      threshold: 0.001,\r\n    }\r\n    let optionsShow = {\r\n      root: null,\r\n      rootMargin: `${stringObject.oTop}px 0px ${stringObject.oBottom}px 0px`,\r\n      threshold: 0.001,\r\n    }\r\n\r\n\r\n\r\n    let obGl = new IntersectionObserver(callbackGl, optionsProgress);\r\n    let obShow = new IntersectionObserver(callbackShow, optionsShow);\r\n\r\n    obGl.observe(el);\r\n    obShow.observe(el);\r\n\r\n    stringObject.showObserver = obShow\r\n    stringObject.progressObserver = obGl\r\n    \r\n    this.id++\r\n  }\r\n  public scrollEmit(data: StringAnimationData){\r\n    this.onScrollEvent(data)\r\n  }\r\n}","export class StringAnimationData{\r\n    current: number = 0\r\n    target: number = 0\r\n    value: number = 0\r\n\r\n}","import { StringScrollObject } from \"../Objects/StringScrollObject\";\r\nimport { StringAnimation } from \"./StringAnimation\";\r\nimport { StringAnimationData } from \"./StringAnimationData\";\r\n\r\nexport class StringLerpAnimation extends StringAnimation{\r\n  constructor(){\r\n    super('data-string-lerp', '--string-lerp', '')\r\n    this.onScroll = (object: StringScrollObject, data: StringAnimationData)=>{\r\n      return data.value; \r\n    }\r\n  }\r\n}","import { StringScrollObject } from \"../Objects/StringScrollObject\";\r\nimport { StringAnimation } from \"./StringAnimation\";\r\nimport { StringAnimationData } from \"./StringAnimationData\";\r\n\r\nexport class StringParallaxAnimation extends StringAnimation{\r\n  windowHeight: number = 0\r\n  constructor(){\r\n    super('data-string-parallax', '--string-parallax', 'data-string-parallax')\r\n    this.windowHeight = window.innerHeight\r\n    this.onScroll = (object: StringScrollObject, data: StringAnimationData)=>{\r\n      let progress = Math.min(1, Math.max(0, (data.current - object.startPos) / object.differencePos)); \r\n      requestAnimationFrame(() => {\r\n        object.el.style.transform = `translateY(${progress * (object.factor * this.windowHeight) + (object.factor * this.windowHeight * -.5)}px)`\r\n        object.connects.forEach(connect => {\r\n          connect.el.style.transform = `translateY(${progress * object.factor * this.windowHeight}px)`\r\n        });\r\n      })\r\n      return progress\r\n    }\r\n\r\n    if (window.innerWidth > 1080) {\r\n        this.status = true\r\n      } else {\r\n        this.status = false\r\n      }\r\n    window.addEventListener('resize', () => {\r\n      this.windowHeight = window.innerHeight\r\n      if (window.innerWidth > 1080) {\r\n        this.status = true\r\n      } else {\r\n        this.status = false\r\n      }\r\n    })\r\n  }\r\n}","import { StringScrollObject } from \"../Objects/StringScrollObject\";\r\nimport { StringAnimation } from \"./StringAnimation\";\r\nimport { StringAnimationData } from \"./StringAnimationData\";\r\n\r\nexport class StringProgressAnimation extends StringAnimation{\r\n  constructor(){\r\n    super('data-string-progress', '--string-progress', '')\r\n    this.onScroll = (object: StringScrollObject, data: StringAnimationData) => {\r\n      \r\n      return Math.min(1, Math.max(0, (data.current - object.startPos) / object.differencePos)); \r\n    }\r\n  }\r\n}","import { StringScrollObject } from \"../Objects/StringScrollObject\";\r\nimport { attr } from \"../Utils/attr\";\r\nimport { StringAnimation } from \"./StringAnimation\";\r\nimport { StringAnimationData } from \"./StringAnimationData\";\r\n\r\nexport class StringShowAnimation extends StringAnimation{\r\n  constructor(){\r\n    super('data-string', '', '')\r\n    this.onEnter = (object: StringScrollObject) => {\r\n      object.el.classList.add(\"-inview\")\r\n    }\r\n    this.onLeave = (object: StringScrollObject)=>{\r\n      if (attr(object.el, `data-string-repeat`) != null) {\r\n        object.el.classList.remove(\"-inview\")\r\n      }\r\n    }\r\n  }\r\n}","export class EventManager{\r\n  private events: Map<string, Array<Function>> = new Map<string, Array<Function>>()\r\n  on(id: string, event: Function){\r\n    if ( this.events.has(id) == false) {   \r\n      this.events.set(id, [])\r\n    }\r\n    this.events.get(id)?.push(event)\r\n  }\r\n  public has(id: string) {\r\n    return this.events.has(id)\r\n  }\r\n  public emit(id: string, value: any) {\r\n    if (this.events.has(id)) {\r\n      this.events.get(id)?.forEach((event: any) => {\r\n        event(value)\r\n      });\r\n    }\r\n  }\r\n  public off(id: string, event: Function) {\r\n    let ea = this.events.get(id)\r\n    if (ea!=null) {\r\n      this.events.set(id, ea.filter((h: any) => h !== event))\r\n    }\r\n  }\r\n}","export class StringScrollbar {\r\n    private scrollbar: any;\r\n    private thumb: any;\r\n    private scrollTimeout: any;\r\n\r\n    private isScrollbarWillShow = true\r\n\r\n    constructor() {\r\n        this.createScrollbar();\r\n        this.updateThumb();\r\n        this.addCustomStyles()\r\n    }\r\n\r\n    private addCustomStyles() {\r\n        const style = document.createElement('style');\r\n        style.textContent = `\r\n            ::-webkit-scrollbar {\r\n                width: 0px;\r\n            }\r\n            body {\r\n                -ms-overflow-style: none;  /* IE and Edge */\r\n                scrollbar-width: none;  /* Firefox */\r\n            }\r\n        `;\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n    private createScrollbar() {\r\n        this.scrollbar = document.createElement('div');\r\n        this.scrollbar.classList.add('scrollbar')\r\n        this.thumb = document.createElement('div');\r\n        this.thumb.classList.add('thumb')\r\n\r\n        this.scrollbar.appendChild(this.thumb);\r\n        document.body.appendChild(this.scrollbar);\r\n\r\n        this.addDragFunctionality();\r\n        this.addScrollListener();\r\n    }\r\n\r\n    public resize(){\r\n        const contentHeight = document.documentElement.scrollHeight;\r\n        const visibleHeight = window.innerHeight;\r\n        const thumbHeight = visibleHeight / contentHeight * visibleHeight;\r\n        this.thumb.style.setProperty('--height', thumbHeight + 'px');\r\n\r\n        if (contentHeight <= visibleHeight) {\r\n            this.scrollbar.classList.add('-hide')\r\n        } else {\r\n            this.scrollbar.classList.remove('-hide')\r\n        }\r\n    }\r\n\r\n    private updateThumb() {\r\n        const contentHeight = document.documentElement.scrollHeight;\r\n        const visibleHeight = window.innerHeight;\r\n        this.thumb.style.setProperty('--position', `${(document.documentElement.scrollTop / contentHeight * visibleHeight) + 'px'}`)\r\n        //this.thumb.style.transform = `translateY(${(document.documentElement.scrollTop / contentHeight * visibleHeight) + 'px'})`;\r\n    }\r\n\r\n    private addDragFunctionality() {\r\n        let isDragging = false;\r\n        let startY: number;\r\n        let startScrollTop: number;\r\n\r\n        this.thumb.addEventListener('mousedown', (e: MouseEvent) => {\r\n            isDragging = true;\r\n            startY = e.clientY;\r\n            startScrollTop = document.documentElement.scrollTop;\r\n            document.body.style.userSelect = 'none';\r\n            this.scrollbar.classList.add('-touch')\r\n        });\r\n\r\n        document.addEventListener('mousemove', (e: MouseEvent) => {\r\n            if (!isDragging) return;\r\n            const deltaY = e.clientY - startY;\r\n            const newScrollPosition = startScrollTop + deltaY / window.innerHeight * document.documentElement.scrollHeight;\r\n            document.documentElement.scrollTop = newScrollPosition;\r\n            this.updateThumb();\r\n            \r\n        });\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            isDragging = false;\r\n            document.body.style.userSelect = '';\r\n            this.hideScrollbar()\r\n            this.scrollbar.classList.remove('-touch')\r\n        });\r\n    }\r\n\r\n    private addScrollListener() {\r\n        document.addEventListener('scroll', () => {\r\n            this.updateThumb();\r\n            this.showScrollbar();\r\n            this.hideScrollbar()\r\n        });\r\n    }\r\n\r\n    private showScrollbar() {\r\n        this.scrollbar.classList.add('-scroll')\r\n    }\r\n\r\n    private hideScrollbar() {\r\n        if (this.scrollTimeout) {\r\n            clearTimeout(this.scrollTimeout);\r\n        }\r\n        this.scrollTimeout = setTimeout(() => {\r\n            this.scrollbar.classList.remove('-scroll')\r\n        }, 1000);\r\n    }\r\n}","export class StringScrollData {\r\n  t: number = 0\r\n  c: number = 0\r\n  d: number = 0\r\n  bS: number = 0\r\n  cF: number = 1\r\n}","export class StringTracker {\r\n  private callCount: number = 0;\r\n  private intervalId: any;\r\n  private displayElement: any;\r\n\r\n  constructor(public trackedFunction: (...args: any[]) => any = (...args: any[]) => {}) {}\r\n\r\n  public start() {\r\n    this.createDisplayElement();\r\n    this.startTracking();\r\n  }\r\n\r\n  private createDisplayElement() {\r\n    this.displayElement = document.createElement('div');\r\n    this.displayElement.style.position = 'fixed';\r\n    this.displayElement.style.bottom = '10px';\r\n    this.displayElement.style.right = '10px';\r\n    this.displayElement.style.backgroundColor = 'black';\r\n    this.displayElement.style.color = 'green';\r\n    this.displayElement.style.padding = '5px 10px';\r\n    this.displayElement.style.fontFamily = 'Arial, sans-serif';\r\n    this.displayElement.style.fontSize = '16px';\r\n    this.displayElement.style.zIndex = '1000';\r\n    this.displayElement.setAttribute('data-fps', '0'); // Додаємо data-attribute\r\n    document.body.appendChild(this.displayElement);\r\n\r\n    // Додаємо стилі для псевдоелемента ::after\r\n    const style = document.createElement('style');\r\n    style.innerHTML = `\r\n      [data-fps]::after {\r\n        content: attr(data-fps) ' FPS';\r\n        position: absolute;\r\n        bottom: 0;\r\n        right: 0;\r\n        background-color: black;\r\n        color: green;\r\n        padding: 5px 10px;\r\n        font-family: Arial, sans-serif;\r\n        font-size: 16px;\r\n        z-index: 1000;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n  }\r\n\r\n  private startTracking() {\r\n    this.intervalId = setInterval(() => {\r\n      this.displayElement.setAttribute('data-fps', `${this.callCount}`); // Оновлюємо значення data-attribute\r\n      this.callCount = 0;\r\n    }, 1000);\r\n  }\r\n\r\n  public getTrackedFunction() {\r\n    return (...args: any[]) => {\r\n      this.callCount++;\r\n      return this.trackedFunction(...args);\r\n    };\r\n  }\r\n\r\n  public stopTracking() {\r\n    clearInterval(this.intervalId);\r\n    document.body.removeChild(this.displayElement);\r\n  }\r\n\r\n  public resize(){\r\n    \r\n  }\r\n}\r\n","export function attr(e: any, n: string, d: any = null) {\r\n  return e.getAttribute(n) == null ? d : e.getAttribute(n)\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { StringScrollData } from \"../StringScrollData\";\r\nimport { iStringScroll } from \"./iStringScroll\";\r\n\r\nexport class StringScrollDefault implements iStringScroll {\r\n  public data: StringScrollData = new StringScrollData()\r\n\r\n  public sA: number = 0.13\r\n  public sD: number = 0.04\r\n  public isProg: boolean = false\r\n  public v = 0;\r\n  public name: string = \"mobile\"\r\n  public sC: number = 0.0\r\n  private vT: number = 0\r\n  private d: any\r\n  private animateC: number = 0\r\n  public isParallaxEnabled: boolean = false\r\n\r\n  constructor(document: any) {\r\n    this.d = document\r\n    this.updateScrollParams()\r\n  }\r\n\r\n  public updateScrollParams() {\r\n\r\n  }\r\n\r\n  public setSpeedAccelerate(speed: number) {\r\n    this.sA = speed\r\n  }\r\n  public setSpeedDecelerate(speed: number) {\r\n    this.sD = speed\r\n  }\r\n\r\n  public onAnimationFrame() {\r\n    this.vT = this.d.documentElement.scrollTop - this.animateC\r\n    this.animateC = this.d.documentElement.scrollTop\r\n\r\n    this.v = this.vT\r\n  }\r\n  public onWheel(e: any) {\r\n  }\r\n  public onScroll(e: any) {\r\n    this.data.c = this.d.documentElement.scrollTop\r\n    this.data.t = this.d.documentElement.scrollTop\r\n    this.data.d = 0\r\n  }\r\n}","import { StringScrollData } from \"../StringScrollData\";\r\nimport { iStringScroll } from \"./iStringScroll\";\r\n\r\nexport class StringScrollDisable implements iStringScroll {\r\n  public data: StringScrollData = new StringScrollData()\r\n  public sA: number = 0.13\r\n  public sD: number = 0.04\r\n  public isProg: boolean = false\r\n  public v = 0;\r\n  public name: string = \"disable\"\r\n  public sC: number = 0.0\r\n  public isParallaxEnabled: boolean = false\r\n\r\n  private d: any\r\n\r\n  constructor(document: any) {\r\n    this.d = document\r\n    this.updateScrollParams()\r\n  }\r\n\r\n  public updateScrollParams() {\r\n\r\n  }\r\n\r\n  public setSpeedAccelerate(speed: number) {\r\n    this.sA = speed\r\n  }\r\n  public setSpeedDecelerate(speed: number) {\r\n    this.sD = speed\r\n  }\r\n\r\n  public onAnimationFrame() {\r\n  }\r\n\r\n  public onWheel(e: any) {\r\n  }\r\n\r\n  public onScroll(e: any) {\r\n    e.preventDefault()\r\n\r\n  }\r\n}","import { StringScrollData } from \"../StringScrollData\";\r\nimport { iStringScroll } from \"./iStringScroll\";\r\n\r\nexport class StringScrollSmooth implements iStringScroll {\r\n  public data: StringScrollData = new StringScrollData()\r\n  public sA: number = 0.13\r\n  public sD: number = 0.04\r\n  public isProg: boolean = false\r\n  public v = 0;\r\n  public name: string = \"desktop\"\r\n  public isParallaxEnabled: boolean = true\r\n  public sC: number = 0.0\r\n  private d: any\r\n  constructor(document: any) {\r\n    this.d = document\r\n    this.updateScrollParams()\r\n  }\r\n  public updateScrollParams() {\r\n    this.sC = this.sA * (1 - this.sD)\r\n  }\r\n  public setSpeedAccelerate(speed: number) {\r\n    this.sA = speed\r\n    this.updateScrollParams()\r\n  }\r\n  public setSpeedDecelerate(speed: number) {\r\n    this.sD = speed\r\n    this.updateScrollParams()\r\n  }\r\n  public onAnimationFrame() {\r\n    this.v = ((this.data.t - this.data.c) * this.sC)\r\n    if (this.v > 0.01 || this.v < -0.01) {\r\n      this.data.c = this.data.c +this.v;\r\n      this.isProg = true\r\n      document.documentElement.scrollTop = this.data.c\r\n    } else {\r\n      if(this.v != 0){\r\n        this.v = 0\r\n        this.data.c = this.data.t\r\n        this.isProg = false\r\n        this.d.documentElement.scrollTop = this.data.c\r\n      } \r\n    }\r\n  }\r\n  public onWheel(e: any) {\r\n    if (e.deltaY != 0) {\r\n      e.preventDefault()\r\n      this.data.d = e.deltaY\r\n      this.data.t += this.data.d\r\n      this.data.t = Math.min(Math.max(this.data.t, 0), this.data.bS)\r\n    }\r\n  }\r\n  public onScroll(e: any) {\r\n    e.preventDefault()\r\n    if (this.isProg == false) {\r\n      this.v = this.d.documentElement.scrollTop - this.data.c\r\n      this.data.c = this.d.documentElement.scrollTop\r\n      this.data.t = this.d.documentElement.scrollTop\r\n      this.data.d = 0\r\n      window.scrollTo(0, this.data.t)\r\n    }\r\n  }\r\n}","import { EventManager } from \"./EventManager\"\r\nimport { StringScrollObject } from \"./Objects/StringScrollObject\"\r\nimport { type iStringScroll } from \"./ScrollTypes/iStringScroll\"\r\nimport { StringScrollDefault } from \"./ScrollTypes/StringScrollDefault\"\r\nimport { StringScrollDisable } from \"./ScrollTypes/StringScrollDisable\"\r\nimport { StringScrollSmooth } from \"./ScrollTypes/StringScrollSmooth\"\r\n\r\nimport { StringAnimation } from \"./Animations/StringAnimation\"\r\nimport { StringAnimationData } from \"./Animations/StringAnimationData\"\r\nimport { StringLerpAnimation } from \"./Animations/StringLerpAnimation\"\r\nimport { StringParallaxAnimation } from \"./Animations/StringParallaxAnimation\"\r\nimport { StringProgressAnimation } from \"./Animations/StringProgressAnimation\"\r\nimport { StringShowAnimation } from \"./Animations/StringShowAnimation\"\r\nimport { StringScrollbar } from \"./Scrollbar/StringScrollbar\"\r\nimport { StringTracker } from \"./Tracker/StringTracker\"\r\nimport { StringScrollData } from \"./StringScrollData\"\r\n\r\n\r\n\r\nlet d: any = null\r\nlet w: any = null\r\nfunction isSafari(): boolean {\r\n  let ua = navigator.userAgent.toLowerCase();\r\n  if (ua.indexOf('safari') != -1) {\r\n    if (ua.indexOf('chrome') > -1) {\r\n      return false\r\n    } else {\r\n      return true\r\n    }\r\n  } else {\r\n    return false\r\n  }\r\n}\r\nfunction isTouchDevice() {\r\n  return (('ontouchstart' in window) ||\r\n    (navigator.maxTouchPoints > 0));\r\n}\r\n\r\n\r\nclass StringScroll {\r\n  private static i: StringScroll;\r\n  private wH: number\r\n  private wW: number\r\n  \r\n  private onScrollEvents: Array<any> = new Array<any>()\r\n  private onScrollLerpEvents: Array<any> = new Array<any>()\r\n  \r\n  private sf: number = 1\r\n  private cf: number = 1\r\n  private f: number = 1\r\n\r\n  \r\n  private overflowCurrent = 0\r\n\r\n  private wheelBindFunc\r\n  private scrollBindFunc\r\n\r\n  private animations: Array<StringAnimation> = new Array<StringAnimation>() \r\n  \r\n  private sEn: iStringScroll\r\n  private sEnDesktop: StringScrollSmooth \r\n  private sEnMobile: StringScrollDefault \r\n  private sEnDisable: StringScrollDisable\r\n  private eventManager: EventManager = new EventManager()\r\n\r\n  private scrollbar: any\r\n  \r\n\r\n  private animationGlobalCycle = ()=>{\r\n    this.animationCycle()\r\n  }\r\n  private animationCycle = ()=>{}\r\n\r\n\r\n  get safariFactor(){\r\n    return this.sf\r\n  }\r\n  set safariFactor(value: number){\r\n    this.sf = value\r\n    if (isSafari()) {\r\n      this.sEnDesktop.setSpeedAccelerate(this.sA * this.sf)\r\n      this.sEnDisable.setSpeedAccelerate(this.sA * this.sf)\r\n      this.sEnMobile.setSpeedAccelerate(this.sA * this.sf)\r\n      this.sEnDesktop.setSpeedDecelerate(this.sD * this.sf)\r\n      this.sEnDisable.setSpeedDecelerate(this.sD * this.sf)\r\n      this.sEnMobile.setSpeedDecelerate(this.sD * this.sf)\r\n    }\r\n  }\r\n  get chromiumFactor(){\r\n    return this.cf\r\n  }\r\n  set chromiumFactor(value: number){\r\n    this.cf = value\r\n    if (!isSafari()) {\r\n      this.sEnDesktop.setSpeedAccelerate(this.sA * this.cf)\r\n      this.sEnDisable.setSpeedAccelerate(this.sA * this.cf)\r\n      this.sEnMobile.setSpeedAccelerate(this.sA * this.cf)\r\n      this.sEnDesktop.setSpeedDecelerate(this.sD * this.cf)\r\n      this.sEnDisable.setSpeedDecelerate(this.sD * this.cf)\r\n      this.sEnMobile.setSpeedDecelerate(this.sD * this.cf)\r\n    }\r\n  }\r\n\r\n  private _enabled: boolean = true\r\n  get enabled(){\r\n    return this._enabled\r\n  }\r\n  set enabled(value: boolean){\r\n    this._enabled = value\r\n    this.animations.forEach(animation => {\r\n      animation.status = this._enabled\r\n    });\r\n    if(this._enabled){\r\n      this.updateModeParams('smooth')\r\n      if (w.innerWidth < 1024 || isTouchDevice()) {\r\n        this.scrollMode = this.mMode\r\n      } else {\r\n        this.scrollMode = this.dMode\r\n      }\r\n    } else {\r\n      this.sEn = this.sEnDisable\r\n      this.updateModeParams('disable')\r\n    }\r\n  }\r\n\r\n  private mode: \"smooth\" | \"disable\" | \"default\" = \"smooth\"\r\n  get scrollMode(){\r\n    return this.mode\r\n  }\r\n  set scrollMode(scrollMode: \"smooth\" | \"disable\" | \"default\"){\r\n    document.documentElement.classList.remove(`-${this.mode}`)\r\n    this.mode = scrollMode\r\n    document.documentElement.classList.add(`-${this.mode}`)\r\n    switch (this.mode) {\r\n      case \"smooth\":\r\n        this.sEn = this.sEnDesktop\r\n        break;\r\n      case \"default\":\r\n        this.sEn = this.sEnMobile\r\n        break;\r\n      case \"disable\":\r\n        this.sEnDisable.v = this.sEn.v\r\n        this.sEnDisable.data = this.sEn.data\r\n        this.sEn = this.sEnDisable\r\n        break;\r\n    }\r\n  }\r\n\r\n  private mMode: \"disable\" | \"default\" = \"default\"\r\n  get mobileScrollMode(){\r\n    return this.mMode\r\n  }\r\n  set mobileScrollMode(mobileMode: \"disable\" | \"default\"){\r\n    this.mMode = mobileMode\r\n    this.updateModeParams(this.mMode)\r\n  }\r\n\r\n  private dMode: \"smooth\" | \"disable\" | \"default\" = \"smooth\"\r\n  get desktopScrollMode(){\r\n    return this.dMode\r\n  }\r\n  set desktopScrollMode(desktopMode: \"smooth\" | \"disable\" | \"default\"){\r\n    this.dMode = desktopMode\r\n    this.updateModeParams(this.dMode)\r\n  }\r\n\r\n  private updateModeParams(mobileMode: \"smooth\" | \"disable\" | \"default\"){\r\n    if (w.innerWidth < 1024 || isTouchDevice()) {\r\n      this.scrollMode = this.mMode\r\n    } else {\r\n      this.scrollMode = this.dMode\r\n    }\r\n    if(mobileMode == \"disable\"){\r\n      document.documentElement.classList.add(`-without-scrollbar`)\r\n    } else {\r\n      document.documentElement.classList.remove(`-without-scrollbar`)\r\n    }\r\n  }\r\n  \r\n  private sA: number = 0.13\r\n  get speedAccelerate(){\r\n    return this.sA\r\n  }\r\n  set speedAccelerate(speed: number){\r\n    this.sA = speed\r\n    if (isSafari()) {\r\n      this.sEnDesktop.setSpeedAccelerate(this.sA * this.sf)\r\n      this.sEnDisable.setSpeedAccelerate(this.sA * this.sf)\r\n      this.sEnMobile.setSpeedAccelerate(this.sA * this.sf)\r\n    } else {\r\n      this.sEnDesktop.setSpeedAccelerate(this.sA * this.cf)\r\n      this.sEnDisable.setSpeedAccelerate(this.sA * this.cf)\r\n      this.sEnMobile.setSpeedAccelerate(this.sA * this.cf)\r\n    }\r\n    \r\n  }\r\n\r\n  private sD: number = 0.04\r\n  get speedDecelerate(){\r\n    return this.sD\r\n  }\r\n  set speedDecelerate(speed: number){\r\n    this.sD = speed\r\n    if (isSafari()) {\r\n      this.sEnDesktop.setSpeedDecelerate(this.sD * this.sf)\r\n      this.sEnDisable.setSpeedDecelerate(this.sD * this.sf)\r\n      this.sEnMobile.setSpeedDecelerate(this.sD * this.sf)\r\n    } else {\r\n      this.sEnDesktop.setSpeedDecelerate(this.sD * this.cf)\r\n      this.sEnDisable.setSpeedDecelerate(this.sD * this.cf)\r\n      this.sEnMobile.setSpeedDecelerate(this.sD * this.cf)\r\n    }\r\n  }\r\n\r\n  get scrollPosition(){\r\n    return this.sEn.data.c\r\n  }\r\n  set scrollPosition(scrollPosition: number){\r\n    this.sEn.data.c = scrollPosition\r\n    this.sEn.data.t = scrollPosition\r\n    window.scrollTo(0, this.sEn.data.c);\r\n  }\r\n\r\n  private isUp: number = 3\r\n  private oC: number = 0\r\n\r\n\r\n  private constructor() {\r\n    d = document\r\n    w = window\r\n    this.wH = w.innerHeight\r\n    this.wW = w.innerWidth\r\n    this.sEnDesktop = new StringScrollSmooth(d)\r\n    this.sEnMobile = new StringScrollDefault(d)\r\n    this.sEnDisable = new StringScrollDisable(d)\r\n    this.sEn = this.sEnDesktop\r\n    w.addEventListener('resize', () => { this.onResize() })\r\n    this.wheelBindFunc = this.onWheel.bind(this)\r\n    this.scrollBindFunc = this.onScroll.bind(this)\r\n    document.body.addEventListener('wheel', this.wheelBindFunc, { passive: false })\r\n    w.addEventListener('scroll', this.scrollBindFunc, { passive: false })\r\n    \r\n    document.documentElement.classList.add(\"string-scroll\")\r\n    \r\n    const style = document.createElement('style');\r\n    style.id = 'hide-scrollbar-style';\r\n    document.documentElement.style.setProperty(\"--string-lerp\", `0`)\r\n    style.textContent = `\r\n        .-without-scrollbar::-webkit-scrollbar {\r\n            display: none;\r\n        }\r\n        .-without-scrollbar {\r\n            -ms-overflow-style: none; /* IE and Edge */\r\n            scrollbar-width: none; /* Firefox */\r\n        }\r\n    `;\r\n    document.head.appendChild(style);\r\n\r\n    document.addEventListener('keydown', (event) => {\r\n      const activeElement = document.activeElement as HTMLElement;\r\n      if (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA') {\r\n        return;\r\n      }\r\n      switch (event.key) {\r\n        case 'ArrowUp':\r\n          this.sEn.data.t -= this.wH / 3\r\n          break;\r\n          case 'ArrowDown':\r\n            this.sEn.data.t += this.wH / 3\r\n            \r\n          break;\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  public static getInstance(): StringScroll {\r\n    if (!StringScroll.i) {\r\n      StringScroll.i = new StringScroll();\r\n    }\r\n    return StringScroll.i;\r\n  }\r\n\r\n  public scrollTo(scroll: number) {\r\n    this.sEn.data.t = scroll\r\n  }\r\n  public on(key: \"scroll\" | \"progress\" | \"intersection\" | \"lerp\", event: any, id: string = \"\") {\r\n    let object = this.getObject(id)\r\n    switch (key) {\r\n      case \"scroll\":\r\n        this.onScrollEvents.push(event)\r\n        break;\r\n      case \"progress\":\r\n        if(object != undefined){\r\n          this.eventManager.on(`progress_${object.key}_${id}`, event)\r\n        }\r\n        break;\r\n      case \"lerp\":\r\n        this.onScrollLerpEvents.push(event)\r\n        break;\r\n      case \"intersection\":\r\n        if(object != undefined){\r\n          this.eventManager.on(`intersection_${object.key}_${id}`, event)\r\n        }\r\n        break;\r\n    }\r\n  }\r\n  public off(key: \"scroll\" | \"progress\" | \"intersection\" | \"lerp\", event: any, id: string = \"\") {\r\n    let object = this.getObject(id)\r\n    switch (key) {\r\n      case \"scroll\":\r\n        this.onScrollEvents = this.onScrollEvents.filter((h: any) => h !== event)\r\n        break;\r\n      case \"progress\":\r\n        if(object != undefined){\r\n          this.eventManager.off(`progress_${object.key}_${id}`, event)\r\n        }\r\n        break;\r\n      case \"lerp\":\r\n        this.onScrollLerpEvents = this.onScrollLerpEvents.filter((h: any) => h !== event)\r\n        break;\r\n      case \"intersection\":\r\n        if(object != undefined){\r\n          this.eventManager.off(`intersection_${object.key}_${id}`, event)\r\n        }\r\n        break;\r\n    }\r\n  }\r\n  public use(objectClass: typeof StringAnimation | typeof StringTracker | typeof StringScrollbar){\r\n    const object = new objectClass();\r\n    if(object instanceof StringAnimation){\r\n      object.eventManager = this.eventManager\r\n      this.animations.push(object)\r\n    }\r\n    if(object instanceof StringScrollbar){\r\n      this.scrollbar = object\r\n    }\r\n    if(object instanceof StringTracker){\r\n      this.animationGlobalCycle = ()=>{\r\n        this.sEn.onAnimationFrame()\r\n        requestAnimationFrame(object.getTrackedFunction());\r\n      }\r\n      object.trackedFunction = this.animationGlobalCycle\r\n      object.start()\r\n    }\r\n   \r\n\r\n  }\r\n  public start(){\r\n    this.onAnimationFrame()\r\n    this.onResize()\r\n    this.onMutationObserver()\r\n    this.animations.forEach((animation) => {\r\n      animation.init()\r\n    });\r\n    \r\n  }\r\n  public forceUpdateParallax() {\r\n    setTimeout(() => {\r\n      let b = d.body,\r\n        h = d.documentElement\r\n      let dHeight = Math.max(b.scrollHeight, b.offsetHeight,\r\n        h.clientHeight, h.scrollHeight, h.offsetHeight)\r\n      this.sEn.data.bS = dHeight - this.wH\r\n    }, 300);\r\n  }\r\n  public setObjectStatus(id: string, status: boolean){\r\n    let object = this.getObject(id)\r\n    if(object != undefined){\r\n      object.enabled = status\r\n    }\r\n  }\r\n  private getObject(id: string): StringScrollObject | undefined{\r\n    let findedObject = undefined\r\n    this.animations.forEach(animation => {\r\n      let object = animation.get(id)\r\n      if(object != undefined){\r\n        findedObject = object\r\n      }\r\n    })\r\n    \r\n    return findedObject\r\n  }\r\n  private onWheel(e: WheelEvent) {\r\n    if (this._enabled == false) {\r\n      e.preventDefault()\r\n      return\r\n    }\r\n    this.sEn.onWheel(e)\r\n  }\r\n  private onMutationObserver() {\r\n    const observer = new MutationObserver((mutations) => {\r\n      mutations.forEach((mutation) => {\r\n        if (mutation.type === \"childList\") {\r\n          let isResizing = false\r\n          if (mutation.removedNodes.length > 0) {\r\n            \r\n            mutation.removedNodes.forEach(removedNode => {\r\n              \r\n              if (removedNode.nodeType === Node.ELEMENT_NODE) {\r\n                if ((removedNode as Element).getAttribute('data-string-fixed') == null) {\r\n                  isResizing = true\r\n                } else {\r\n                  \r\n                }\r\n                this.animations.forEach((animation) => {\r\n                  Array.from(animation.allObjects).map(([name, value]) => {\r\n                    if(document.body.contains(value.el) == false){\r\n                      animation.removeObject(value.id)\r\n                    }\r\n                  });\r\n                })\r\n              }\r\n            })\r\n            if (isResizing) {\r\n              this.onResize()\r\n            }\r\n          }\r\n          if (mutation.addedNodes.length > 0) {\r\n            mutation.addedNodes.forEach(addedNode => {\r\n              if (addedNode.nodeType === Node.ELEMENT_NODE) {\r\n                if ((addedNode as Element).getAttribute('data-string-fixed') == null) {\r\n                  isResizing = true\r\n                } else {\r\n                }\r\n              }\r\n            })\r\n\r\n            \r\n            this.animations.forEach((animation) => {\r\n              let elements = document.querySelectorAll(`[${animation.key}]:not([data-string-connect]):not([${animation.key}-inited])`)\r\n              elements.forEach(element => {\r\n                animation.addObject(element)\r\n              });\r\n            });\r\n            if (isResizing) {\r\n              this.onResize()\r\n            }\r\n          }\r\n          \r\n        }\r\n      });\r\n    });\r\n    const config = {\r\n      attributes: true,\r\n      childList: true,\r\n      subtree: true\r\n    };\r\n    observer.observe(document.body, config);\r\n    \r\n  }\r\n  private onScroll(e: Event) {\r\n    \r\n    this.sEn.onScroll(e)\r\n    this.onScrollEvents.forEach(event => {\r\n      event(this.sEn.data.c)\r\n    });\r\n    this.onScrollLerpEvents.forEach(event => {\r\n      event(this.sEn.v)\r\n    });\r\n\r\n    \r\n    if (this.sEn.v != 0 && this.isUp != 1 && this.oC < this.sEn.data.c) {\r\n      this.isUp = 1\r\n      document.documentElement.classList.add(\"-scroll-down\")\r\n      document.documentElement.classList.remove(\"-scroll-up\")\r\n    } \r\n    if (this.sEn.v != 0 && this.isUp != 2 && this.oC > this.sEn.data.c) {\r\n      this.isUp = 2\r\n      document.documentElement.classList.add(\"-scroll-up\")\r\n      document.documentElement.classList.remove(\"-scroll-down\")\r\n    }\r\n    if (this.sEn.v == 0 && this.isUp!=3) {\r\n      this.isUp = 3\r\n      document.documentElement.classList.remove(\"-scroll-up\")\r\n      document.documentElement.classList.remove(\"-scroll-down\")\r\n    }\r\n    \r\n    \r\n    //document.documentElement.style.setProperty(\"--string-lerp\", Math.abs(this.sEn.v).toString())\r\n    this.animations.forEach((animation) => {\r\n      animation.scrollEmit({\r\n        current: this.sEn.data.c,\r\n        target: this.sEn.data.t,\r\n        value: this.sEn.v,\r\n      })\r\n    });\r\n    this.oC = this.sEn.data.c\r\n    \r\n  }\r\n  private onAnimationFrame() {\r\n    this.animationCycle = () => {\r\n      this.sEn.onAnimationFrame()\r\n      requestAnimationFrame(this.animationGlobalCycle);\r\n    }\r\n    requestAnimationFrame(this.animationGlobalCycle);\r\n  }\r\n  \r\n  public onResize() {\r\n    this.scrollbar?.resize()\r\n    this.animations.forEach((animation) => {\r\n      animation.resize()\r\n    });\r\n    if (w.innerWidth < 1024 || isTouchDevice()) {\r\n      this.scrollMode = this.mMode\r\n    } else {\r\n      this.scrollMode = this.dMode\r\n    }\r\n    if (this.wW != w.innerWidth || w.innerWidth > 1024) {\r\n      this.wW = w.innerWidth\r\n      this.wH = w.innerHeight\r\n    } \r\n    if (this.wW != w.innerWidth || w.innerWidth > 1024) {\r\n      let b = d.body,\r\n      h = d.documentElement\r\n      let dHeight = Math.max(b.scrollHeight, b.offsetHeight,\r\n        h.clientHeight, h.scrollHeight, h.offsetHeight)\r\n      this.sEn.data.bS = dHeight - this.wH\r\n\r\n      this.animations.forEach((animation) => {\r\n        animation.scrollEmit({\r\n          current: this.sEn.data.c,\r\n          target: this.sEn.data.t,\r\n          value: this.sEn.v,\r\n        })\r\n      });\r\n    }\r\n\r\n    \r\n  }\r\n}\r\n\r\nexport {\r\n\tStringScroll as StringScroll,\r\n\tStringScroll as default,\r\n  StringAnimation,\r\n  StringAnimationData,\r\n  StringLerpAnimation,\r\n  StringParallaxAnimation,\r\n  StringProgressAnimation,\r\n  StringShowAnimation,\r\n  StringScrollbar,\r\n  StringTracker,\r\n  StringScrollData,\r\n};\r\n"],"names":["root","factory","exports","module","define","amd","a","i","this","gbcl","e","getBoundingClientRect","StringParse","getInstance","parseOffset","o","wH","baseRem","ofs","split","length","map","os","trim","startsWith","parseCalc","parseSingle","v","element","pV","isNegative","slice","offsetHeight","endsWith","parseFloat","c","ps","filter","Boolean","reduce","t","p","value","parseOrigin","parseOrig","part","s","Math","floor","random","parseCoords","br","document","body","top","tS","bS","StringScrollObject","constructor","key","factor","bufferProgressKey","progress","connects","Array","showObserver","progressObserver","r","window","innerHeight","oA","attr","rH","height","el","Number","bottom","oTop","oBottom","start","end","id","enabled","startPos","endPos","differencePos","startPosition","endPosition","sElPos","sScrPos","eElPos","eScrPos","offsetTop","org","style","transformOrigin","resize","windowHeight","StringAnimation","_key","status","_status","onScrollEvent","data","objectsArray","forEach","object","onScroll","eventManager","emit","setProperty","toString","connect","progressKey","progressFactorKey","objectsMap","Map","allObjects","onUpdate","onEnter","onLeave","EventManager","E","get","has","undefined","init","progE","querySelectorAll","from","addObject","connectE","connectId","setAttribute","stringConnectObject","push","name","removeObject","removedObject","disconnect","delete","classList","add","stringObject","set","optionsProgress","rootMargin","threshold","optionsShow","obGl","IntersectionObserver","es","isIntersecting","target","obShow","observe","scrollEmit","StringAnimationData","current","StringLerpAnimation","super","StringParallaxAnimation","min","max","requestAnimationFrame","transform","innerWidth","addEventListener","StringProgressAnimation","StringShowAnimation","remove","events","on","event","off","ea","h","StringScrollbar","isScrollbarWillShow","createScrollbar","updateThumb","addCustomStyles","createElement","textContent","head","appendChild","scrollbar","thumb","addDragFunctionality","addScrollListener","contentHeight","documentElement","scrollHeight","visibleHeight","thumbHeight","scrollTop","startY","startScrollTop","isDragging","clientY","userSelect","deltaY","newScrollPosition","hideScrollbar","showScrollbar","scrollTimeout","clearTimeout","setTimeout","StringScrollData","d","cF","StringTracker","trackedFunction","args","callCount","createDisplayElement","startTracking","displayElement","position","right","backgroundColor","color","padding","fontFamily","fontSize","zIndex","innerHTML","intervalId","setInterval","getTrackedFunction","stopTracking","clearInterval","removeChild","n","getAttribute","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","Object","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","StringScrollDefault","sA","sD","isProg","sC","vT","animateC","isParallaxEnabled","updateScrollParams","setSpeedAccelerate","speed","setSpeedDecelerate","onAnimationFrame","onWheel","StringScrollDisable","preventDefault","StringScrollSmooth","scrollTo","w","isSafari","ua","navigator","userAgent","toLowerCase","indexOf","isTouchDevice","maxTouchPoints","StringScroll","safariFactor","sf","sEnDesktop","sEnDisable","sEnMobile","chromiumFactor","cf","_enabled","animations","animation","updateModeParams","scrollMode","mMode","dMode","sEn","mode","mobileScrollMode","mobileMode","desktopScrollMode","desktopMode","speedAccelerate","speedDecelerate","scrollPosition","onScrollEvents","onScrollLerpEvents","f","overflowCurrent","animationGlobalCycle","animationCycle","isUp","oC","wW","onResize","wheelBindFunc","bind","scrollBindFunc","passive","activeElement","tagName","scroll","getObject","use","objectClass","onMutationObserver","forceUpdateParallax","b","dHeight","clientHeight","setObjectStatus","findedObject","MutationObserver","mutations","mutation","type","isResizing","removedNodes","removedNode","nodeType","Node","ELEMENT_NODE","contains","addedNodes","addedNode","attributes","childList","subtree"],"sourceRoot":""}