var t={d:function(s,e){for(var i in e)t.o(e,i)&&!t.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:e[i]})},o:function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}},s={};t.d(s,{Z:function(){return v}});let e=null,i=null;const r="data-string-",a="top",o="bottom",l="--string-progress",n="data-string-parallax-progress";function h(t,s,e=null){return null==t.getAttribute(s)?e:t.getAttribute(s)}function c(t){let s=d(e.body);return{top:d(t).top-s.top}}function d(t){return t.getBoundingClientRect()}function p(){let t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("safari")&&!(t.indexOf("chrome")>-1)}function m(){return"ontouchstart"in window||navigator.maxTouchPoints>0}class u{parseOffset(t,s="0,0",e,i=16){let r=s.split(",");return 1===r.length&&(r=[r[0],r[0]]),r.map((s=>(s=s.trim()).startsWith("calc")?this.parseCalc(s,t,e,i):this.parseSingle(s,t,e,i)))}parseSingle(t,s,e,i){let r,a=t.startsWith("-");return a&&(t=t.slice(1)),"selfHeight"===t?r=s.offsetHeight:t.endsWith("px")?r=parseFloat(t):t.endsWith("%")?r=parseFloat(t)*e/100:t.endsWith("rem")&&(r=parseFloat(t)*i),a?-r:r}parseCalc(t,s,e,i){let r=(t=t.slice(5,-1)).split(/([-+])/).filter(Boolean);return r.reduce(((t,a,o)=>{if("-"===a||"+"===a)return t;{let l=this.parseSingle(a.trim(),s,e,i);return"-"===r[o-1]?t-l:t+l}}),0)}parseOrigin(t){null!=t&&""!=t||(t="center center");const s=t.split(" ");return`${this.parseOrig(s[0])} ${this.parseOrig(s[1]||s[0])}`}parseOrig(t){if((t=t.trim()).startsWith("random")){const s=t.slice(7,-1).split(",").map((t=>t.trim()));return s[Math.floor(Math.random()*s.length)]}return t}}class E{constructor(){this.t=0,this.c=0,this.d=0,this.bS=0,this.cF=1}}class g{constructor(){this.data=new E,this.sA=.13,this.sD=.04,this.isProg=!1,this.v=0,this.name="mobile",this.sC=0,this.vT=0,this.animateC=0}updateScrollParams(){}setSpeedAccelerate(t){this.sA=t}setSpeedDecelerate(t){this.sD=t}onAnimationFrame(){this.vT=e.documentElement.scrollTop-this.animateC,this.animateC=e.documentElement.scrollTop,this.v=this.vT}onWheel(t){}onScroll(t){this.data.c=e.documentElement.scrollTop,this.data.t=e.documentElement.scrollTop,this.data.d=0}}class f{constructor(){this.data=new E,this.sA=.13,this.sD=.04,this.isProg=!1,this.v=0,this.name="desktop",this.sC=0,this.updateScrollParams()}updateScrollParams(){this.sC=this.sA*(1-this.sD)}setSpeedAccelerate(t){this.sA=t,this.updateScrollParams()}setSpeedDecelerate(t){this.sD=t,this.updateScrollParams()}onAnimationFrame(){this.v=(this.data.t-this.data.c)*this.sC,this.v>.1||this.v<-.1?(this.data.c+=this.v,this.isProg=!0):(this.v=0,this.isProg=!1),window.scrollTo(0,this.data.c)}onWheel(t){t.preventDefault(),this.data.d=t.deltaY,this.data.t+=this.data.d,this.data.t=Math.min(Math.max(this.data.t,0),this.data.bS)}onScroll(t){t.preventDefault(),0==this.isProg&&(this.data.c=e.documentElement.scrollTop,this.data.t=e.documentElement.scrollTop,this.data.d=0,window.scrollTo(0,this.data.t))}}class b{constructor(){this.data=new E,this.sA=.13,this.sD=.04,this.isProg=!1,this.v=0,this.name="disable",this.sC=0}updateScrollParams(){}setSpeedAccelerate(t){this.sA=t}setSpeedDecelerate(t){this.sD=t}onAnimationFrame(){}onWheel(t){}onScroll(t){t.preventDefault()}}class v{constructor(){this.actProgE=new Array,this.actParallE=new Array,this.progIndx=0,this.parallIndx=0,this.progO=new Map,this.actProgO=new Map,this.actProgOA=new Array,this.scrollO=new Array,this.parallO=new Map,this.actParallO=new Map,this.actParallOA=new Array,this.onScrollEvents=new Array,this.intersectionEvent=new Map,this.prEvent=new Map,this.prScrollEvent=new Map,this.lrpEvent=new Map,this.obs=[],this.sf=1,this.f=1,this.disablecalc=!1,this.overflowCurrent=0,this.isProgress=!0,this.isParallax=!0,this.sEnDesktop=new f,this.sEnMobile=new g,this.sEnDisable=new b,this.mMode="default",this.dMode="smooth",this.IsAutoupdateScrollPosition=!0,this.teset=0,e=document,i=window,this.wH=i.innerHeight,this.wW=i.innerWidth,this.parser=new u,this.sEn=this.sEnDesktop,this.initElementsFromDOM(),i.addEventListener("resize",(()=>{this.onResize()})),this.wheelBindFunc=this.onWheel.bind(this),this.scrollBindFunc=this.onScroll.bind(this),document.body.addEventListener("wheel",this.wheelBindFunc,{passive:!1}),i.addEventListener("scroll",this.scrollBindFunc,{passive:!1}),this.onAnimationFrame(),this.initObserver(),this.onResize(),this.onMutationObserver(),document.documentElement.classList.add("string-scroll"),document.documentElement.classList.add("string-smoothy");const t=document.createElement("style");t.id="hide-scrollbar-style",t.textContent="\n        .-without-scrollbar::-webkit-scrollbar {\n            display: none;\n        }\n        .-without-scrollbar {\n            -ms-overflow-style: none; /* IE and Edge */\n            scrollbar-width: none; /* Firefox */\n        }\n    ",document.head.appendChild(t)}static getInstance(){return v.i||(v.i=new v),v.i}createStringProgressObject(t){let s=d(t),e=h(t,`${r}offset`),i=null==e?[0,0]:this.parser.parseOffset(t,e,this.wH),l=s.height,n={el:t,top:c(t).top,bottom:c(t).top+l,height:l,oTop:i[0],oBottom:i[1],start:h(t,`${r}start`,1),end:h(t,`${r}end`,1),id:h(t,`${r}id`),disabled:null!=h(t,`${r}disabled`),oldValue:0,divisor:this.wH-i[0]-i[1]-l,divisorFull:l+this.wH,startPos:1,endPos:1,differencePos:1,connectEvent:new Array},p=h(t,`${r}start`)||"top bottom",m=h(t,`${r}end`)||"bottom top",[u,E]=p.split(" "),[g,f]=m.split(" "),b=n.top-n.oTop,v=b-this.wH,w=n.top+n.height+n.oBottom,O=w-this.wH;return u==a&&E==a?n.startPos=b:u==a&&E==o?n.startPos=v:u==o&&E==a?n.startPos=w:u==o&&E==o&&(n.startPos=O),g==a&&f==a?n.endPos=b:g==a&&f==o?n.endPos=v:g==o&&f==a?n.endPos=w:g==o&&f==o&&(n.endPos=O),n.differencePos=n.endPos-n.startPos,n}createStringParallaxObject(t){let s=d(t),e=h(t,`${r}offset`),i=null==e?[0,0]:this.parser.parseOffset(t,e,this.wH),a=h(t,`${r}parallax`),o=s.height,l={el:t,top:c(t).top,bottom:c(t).top+o,height:o,oTop:i[0],oBottom:i[1],start:h(t,`${r}start`,1),end:h(t,`${r}end`,1),id:h(t,`${r}id`),disabled:null!=h(t,`${r}disabled`),parallaxFactor:a,progress:null==h(t,n)?0:Number.parseFloat(h(t,n)),oldV:0,oldValue:0,divisor:this.wH-i[0]-i[1]-o,divisorFull:o+this.wH,startPos:1,endPos:1,isIntersection:!1,connectEvent:new Array};return l.startPos=l.top-this.wH+(l.start*(l.height+l.oTop)-(1-l.start)*l.oTop),l.endPos=l.top+(l.end*(l.height+l.oBottom)-(1-l.end)*l.oBottom),l}initElementsFromDOM(){this.scrollE=e.querySelectorAll("[data-string]"),this.scrollO=Array.from(this.scrollE).map((t=>{let s=d(t),e=h(t,`${r}offset`),i=null==e?[0,0]:this.parser.parseOffset(t,e,this.wH);return{el:t,top:c(t).top,height:s.height,oTop:i[0],oBottom:i[1],disabled:null!=h(t,`${r}disabled`)}})),this.progO.clear(),this.progE=e.querySelectorAll(`[${r}progress]`),Array.from(this.progE).filter((t=>null==h(t,`${r}connect`))).forEach((t=>{t.setAttribute(`${r}id`,h(t,`${r}id`,"string-progress-"+this.progIndx++)),this.progO.set(h(t,`${r}id`),this.createStringProgressObject(t))})),this.parallO.clear(),this.parallE=e.querySelectorAll(`[${r}parallax]`),Array.from(this.parallE).filter((t=>null==h(t,`${r}connect`))).forEach((t=>{t.setAttribute(`${r}id`,h(t,`${r}id`,"string-parallax-"+this.parallIndx++)),this.parallO.set(h(t,`${r}id`),this.createStringParallaxObject(t))})),this.conE=e.querySelectorAll("[data-string-connect]"),Array.from(this.conE).forEach((t=>{let s=h(t,`${r}connect`);this.parallO.has(s)&&this.parallO.get(s).connectEvent.push((s=>{t.style.transform=s})),this.progO.has(s)&&this.progO.get(s).connectEvent.push((s=>{t.style.setProperty(h(t,`${r}key`,"--string-progress"),s)}))})),this.actProgOA=Array.from(this.actProgO).map((([t,s])=>s)),this.actParallOA=Array.from(this.actParallO).map((([t,s])=>s)),this.lerpE=e.querySelectorAll(`[${r}lerp]`),this.calc()}setScrollPosition(t){this.sEn.data.c=t,this.sEn.data.t=t,window.scrollTo(0,this.sEn.data.c)}scrollTo(t){this.sEn.data.t=t}setMobileMode(t){"disable"==t?document.documentElement.classList.add("-without-scrollbar"):document.documentElement.classList.remove("-without-scrollbar"),this.mMode=t,this.enableScroll()}setDesktopMode(t){"disable"==t?document.documentElement.classList.add("-without-scrollbar"):document.documentElement.classList.remove("-without-scrollbar"),this.dMode=t,this.enableScroll()}disableScroll(){this.sEn=this.sEnDisable}enableScroll(){i.innerWidth<1024||m()?this.setScrollMode(this.mMode):this.setScrollMode(this.dMode)}setSpeedAccelerate(t){this.sEnDesktop.sA=t,this.sEnDisable.sA=t,this.sEnMobile.sA=t}setSpeedDecelerate(t){this.sEnDesktop.sD=t,this.sEnDisable.sD=t,this.sEnMobile.sD=t}setScrollFactor(t){this.f=t,p()?this.sEnDesktop.data.cF=this.f*this.sf:this.sEnDesktop.data.cF=this.f}setSafariFactor(t){this.sf=t,p()?this.sEnDesktop.data.cF=this.f*this.sf:this.sEnDesktop.data.cF=this.f}on(t,s,e=""){switch(t){case"scroll":this.onScrollEvents.push(s);break;case"progress":0==this.prEvent.has(e)&&this.prEvent.set(e,[]),this.prEvent.get(e).push(s);break;case"lerp":0==this.lrpEvent.has(e)&&this.lrpEvent.set(e,[]),this.lrpEvent.get(e).push(s);break;case"intersection":0==this.intersectionEvent.has(e)&&this.intersectionEvent.set(e,[]),this.intersectionEvent.get(e).push(s);break;case"scroll-progress":0==this.prScrollEvent.has(e)&&this.prScrollEvent.set(e,[]),this.prScrollEvent.get(e).push(s)}}setScrollMode(t){switch(document.documentElement.classList.remove("-smooth"),document.documentElement.classList.remove("-default"),document.documentElement.classList.remove("-disable"),t){case"smooth":this.sEn=this.sEnDesktop,this.isParallax=!0,document.documentElement.classList.add("-smooth");break;case"default":this.sEn=this.sEnMobile,this.isParallax=!1,document.documentElement.classList.add("-default");break;case"disable":this.sEnDisable.v=this.sEn.v,this.sEnDisable.data=this.sEn.data,this.sEn=this.sEnDisable,document.documentElement.classList.add("-disable")}}enableById(t){const s=s=>{s.id==t&&(s.disabled=!0,s.el.removeAttribute(`${r}disabled`))};this.progO.forEach(s),this.parallO.forEach(s),this.actProgO.forEach(s)}disableById(t){const s=s=>{s.id==t&&(s.disabled=!0,s.el.setAttribute(`${r}disabled`,""))};this.progO.forEach(s),this.parallO.forEach(s),this.actProgO.forEach(s)}setProgressStatus(t){this.isProgress=t}setParallaxStatus(t){this.isParallax=t}onWheel(t){this.disablecalc?t.preventDefault():this.sEn.onWheel(t)}forceUpdateParallax(){setTimeout((()=>{let t=e.body,s=e.documentElement,i=Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight);this.sEn.data.bS=i-this.wH,this.initElementsFromDOM(),this.initObserver(),this.calc()}),300)}onMutationObserver(){new MutationObserver((t=>{t.forEach((t=>{if("childList"===t.type){let t=e.body,s=e.documentElement,i=Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight);this.sEn.data.bS=i-this.wH,this.initElementsFromDOM(),this.initObserver(),this.calc()}}))})).observe(document.body,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("hashchange",(()=>{let t=e.body,s=e.documentElement,i=Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight);this.sEn.data.bS=i-this.wH,this.initElementsFromDOM(),this.initObserver(),this.calc()}))}onScroll(t){this.sEn.onScroll(t),this.calc(),this.onScrollEvents.forEach((t=>{t(e.documentElement.scrollTop)}))}initObserver(){this.obs.forEach((t=>{t.disconnect()})),this.obs=[];let t=t=>{t.forEach((t=>{t.isIntersecting?(t.target.classList.add("-inview"),this.emit(this.intersectionEvent,h(t.target,`${r}id`),!0)):null!=h(t.target,`${r}repeat`)&&(t.target.classList.remove("-inview"),this.emit(this.intersectionEvent,h(t.target,`${r}id`),!1))}))};this.scrollO.forEach((s=>{let e={rootMargin:`${s.oTop}px 0px ${s.oBottom}px 0px`},i=new IntersectionObserver(t,e);i.observe(s.el),this.obs.push(i)}));let s=t=>{t.forEach((t=>{if(t.isIntersecting){let s=h(t.target,`${r}id`);this.actProgO.set(s,this.progO.get(s)),this.actProgOA=Array.from(this.actProgO).map((([t,s])=>s))}else{let s=h(t.target,`${r}id`);this.actProgO.delete(s)}}))};this.progO.forEach((t=>{let e={root:null,rootMargin:`${1*t.oTop+1.5*this.wH}px 0px ${1*t.oBottom+1.5*this.wH}px 0px`,threshold:.001},i=new IntersectionObserver(s,e);i.observe(t.el),this.obs.push(i)}));let e=t=>{t.forEach((t=>{let s=h(t.target,`${r}id`);t.isIntersecting?(null==this.parallO.get(s).el.getAttribute("data-string-parallax-screen")&&this.parallO.get(s).el.setAttribute("data-string-parallax-screen",this.sEn.data.c),this.parallO.get(s).isIntersection=!0,this.parallO.get(s).progress+=this.sEn.data.c-this.parallO.get(s).el.getAttribute("data-string-parallax-screen"),this.actParallO.set(s,this.parallO.get(s)),this.actParallOA=Array.from(this.actParallO).map((([t,s])=>s))):(this.actParallO.delete(s),this.actParallOA=Array.from(this.actParallO).map((([t,s])=>s)))}))};this.parallO.forEach((t=>{let s={root:null,rootMargin:`${1*t.oTop+10}px 0px ${1*t.oBottom+10}px 0px`,threshold:.001},i=new IntersectionObserver(e,s);i.observe(t.el),this.obs.push(i)}))}overflowHidden(){document.documentElement.classList.add("string-overflow-hidden"),this.disablecalc=!0,this.overflowCurrent=this.sEn.data.c;const t=document.getElementById("string-scroll-layout");t&&(t.style.transform=`translateY(-${this.sEn.data.c}px)`)}overflowAuto(){document.documentElement.classList.remove("string-overflow-hidden");const t=document.getElementById("string-scroll-layout");t&&(t.style.transform="translateY(0px)"),this.sEn.data.c=this.overflowCurrent,this.sEn.data.t=this.overflowCurrent,this.disablecalc=!1,setTimeout((()=>{window.scrollTo(0,this.sEn.data.c)}),10)}onAnimationFrame(){let t=()=>{this.sEn.onAnimationFrame(),this.lerpE.forEach(((t,s)=>{this.lerpE[s].style.setProperty("--scroll-lerp",Math.abs(this.sEn.v)),this.hasEvent(this.lrpEvent,this.lerpE[s].id)&&this.emit(this.lrpEvent,this.lerpE[s].id,this.sEn.v)})),this.actParallOA.forEach((t=>{t.disabled||(t.progress+=this.sEn.v,t.el.style.transform=`translateY(${t.progress*t.parallaxFactor}px)`,t.el.setAttribute(n,t.progress),t.el.setAttribute("data-string-parallax-screen",this.sEn.data.c),t.connectEvent.forEach((s=>{s(`translateY(${t.progress*t.parallaxFactor}px)`)})))})),requestAnimationFrame(t)};requestAnimationFrame(t)}calc(){this.disablecalc||this.actProgOA.forEach((t=>{if(t.disabled)return;let s=Math.min(1,Math.max(0,(this.sEn.data.c-t.startPos)/t.differencePos));t.el.style.setProperty(l,s),t.oldValue!=s&&(t.connectEvent.forEach((t=>{t(s)})),this.hasEvent(this.prEvent,t.id)&&this.emit(this.prEvent,t.id,s),t.oldValue=s),this.hasEvent(this.prScrollEvent,t.id)&&this.emit(this.prScrollEvent,t.id,t.oTop-this.sEn.data.c+this.wH)}))}hasEvent(t,s){return t.has(s)}emit(t,s,e){t.has(s)&&t.get(s).forEach((t=>{t(e)}))}initEl(t,s=!1){let e=d(t);s&&(t.style.setProperty(l,0),t.setAttribute("data-offset-top",c(t).top),t.setAttribute("data-offset-height",e.height));let i=h(t,`${r}origin`);null!=i&&(t.style.transformOrigin=this.parser.parseOrigin(i))}onResize(){this.progE.forEach((t=>{this.initEl(t,!0)})),this.scrollE.forEach((t=>{this.initEl(t)})),this.initElementsFromDOM(),i.innerWidth<1024||m()?this.setScrollMode(this.mMode):this.setScrollMode(this.dMode),this.wW!=i.innerWidth&&(this.wW=i.innerWidth,this.wH=i.innerHeight);let t=e.body,s=e.documentElement,r=Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight);this.sEn.data.bS=r-this.wH,this.initObserver(),this.calc()}}var w=s.Z;export{w as default};