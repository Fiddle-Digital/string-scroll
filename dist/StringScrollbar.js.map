{"version":3,"file":"StringScrollbar.js","mappings":"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","sources":["webpack://@fiddle-digital/string-scroll/webpack/universalModuleDefinition","webpack://@fiddle-digital/string-scroll/webpack/bootstrap","webpack://@fiddle-digital/string-scroll/webpack/runtime/define property getters","webpack://@fiddle-digital/string-scroll/webpack/runtime/hasOwnProperty shorthand","webpack://@fiddle-digital/string-scroll/webpack/runtime/make namespace object","webpack://@fiddle-digital/string-scroll/./src/Scrollbar/StringScrollbar.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export class StringScrollbar {\r\n    private scrollbar: any;\r\n    private thumb: any;\r\n    private scrollTimeout: any;\r\n\r\n    private isScrollbarWillShow = true\r\n\r\n    constructor() {\r\n        this.createScrollbar();\r\n        this.updateThumb();\r\n        this.addCustomStyles()\r\n    }\r\n\r\n    private addCustomStyles() {\r\n        const style = document.createElement('style');\r\n        style.textContent = `\r\n            ::-webkit-scrollbar {\r\n                width: 0px;\r\n            }\r\n            body {\r\n                -ms-overflow-style: none;  /* IE and Edge */\r\n                scrollbar-width: none;  /* Firefox */\r\n            }\r\n        `;\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n    private createScrollbar() {\r\n        this.scrollbar = document.createElement('div');\r\n        this.scrollbar.classList.add('scrollbar')\r\n        this.thumb = document.createElement('div');\r\n        this.thumb.classList.add('thumb')\r\n\r\n        this.scrollbar.appendChild(this.thumb);\r\n        document.body.appendChild(this.scrollbar);\r\n\r\n        this.addDragFunctionality();\r\n        this.addScrollListener();\r\n    }\r\n\r\n    public resize(){\r\n        const contentHeight = document.documentElement.scrollHeight;\r\n        const visibleHeight = window.innerHeight;\r\n        const thumbHeight = visibleHeight / contentHeight * visibleHeight;\r\n        this.thumb.style.setProperty('--height', thumbHeight + 'px');\r\n\r\n        if (contentHeight <= visibleHeight) {\r\n            this.scrollbar.classList.add('-hide')\r\n        } else {\r\n            this.scrollbar.classList.remove('-hide')\r\n        }\r\n    }\r\n\r\n    private updateThumb() {\r\n        const contentHeight = document.documentElement.scrollHeight;\r\n        const visibleHeight = window.innerHeight;\r\n        this.thumb.style.setProperty('--position', `${(document.documentElement.scrollTop / contentHeight * visibleHeight) + 'px'}`)\r\n        //this.thumb.style.transform = `translateY(${(document.documentElement.scrollTop / contentHeight * visibleHeight) + 'px'})`;\r\n    }\r\n\r\n    private addDragFunctionality() {\r\n        let isDragging = false;\r\n        let startY: number;\r\n        let startScrollTop: number;\r\n\r\n        this.thumb.addEventListener('mousedown', (e: MouseEvent) => {\r\n            isDragging = true;\r\n            startY = e.clientY;\r\n            startScrollTop = document.documentElement.scrollTop;\r\n            document.body.style.userSelect = 'none';\r\n            this.scrollbar.classList.add('-touch')\r\n        });\r\n\r\n        document.addEventListener('mousemove', (e: MouseEvent) => {\r\n            if (!isDragging) return;\r\n            const deltaY = e.clientY - startY;\r\n            const newScrollPosition = startScrollTop + deltaY / window.innerHeight * document.documentElement.scrollHeight;\r\n            document.documentElement.scrollTop = newScrollPosition;\r\n            this.updateThumb();\r\n            \r\n        });\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            isDragging = false;\r\n            document.body.style.userSelect = '';\r\n            this.hideScrollbar()\r\n            this.scrollbar.classList.remove('-touch')\r\n        });\r\n    }\r\n\r\n    private addScrollListener() {\r\n        document.addEventListener('scroll', () => {\r\n            this.updateThumb();\r\n            this.showScrollbar();\r\n            this.hideScrollbar()\r\n        });\r\n    }\r\n\r\n    private showScrollbar() {\r\n        this.scrollbar.classList.add('-scroll')\r\n    }\r\n\r\n    private hideScrollbar() {\r\n        if (this.scrollTimeout) {\r\n            clearTimeout(this.scrollTimeout);\r\n        }\r\n        this.scrollTimeout = setTimeout(() => {\r\n            this.scrollbar.classList.remove('-scroll')\r\n        }, 1000);\r\n    }\r\n}"],"names":["root","factory","exports","module","define","amd","a","i","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","StringScrollbar","constructor","isScrollbarWillShow","createScrollbar","updateThumb","addCustomStyles","style","document","createElement","textContent","head","appendChild","scrollbar","classList","add","thumb","body","addDragFunctionality","addScrollListener","resize","contentHeight","documentElement","scrollHeight","visibleHeight","window","innerHeight","thumbHeight","setProperty","remove","scrollTop","startY","startScrollTop","isDragging","addEventListener","e","clientY","userSelect","deltaY","newScrollPosition","hideScrollbar","showScrollbar","scrollTimeout","clearTimeout","setTimeout"],"sourceRoot":""}